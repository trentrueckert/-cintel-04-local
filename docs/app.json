[{"name": "app.py", "content": "import plotly.express as px\nfrom shiny import reactive\nfrom shiny.express import input, ui, render\nfrom shinywidgets import render_plotly, render_widget\nfrom palmerpenguins import load_penguins\nimport seaborn as sns\n\npenguins = load_penguins()\n\nui.page_opts(title=\"Trent's Penguin Data\", fillable=True)\n\nwith ui.sidebar(\n    position=\"right\",\n    bg=\"#f8f8f8\",\n    open=\"open\"\n):\n    ui.h2(\"Sidebar\")\n    ui.input_selectize(\n        \"selected_attribute\",\n        \"Selected Attribute\",\n        choices=[\"bill_length_mm\", \"bill_depth_mm\", \"flipper_length_mm\", \"body_mass_g\"])\n\n    ui.input_numeric(\"plotly_bin_count\", \"Plotly Bins\", 1, min=1, max=10)\n    ui.input_slider(\"seaborn_bin_count\", \"Seaborn Bins\", 5, 50, 25)\n    ui.input_checkbox_group(\"selected_species_list\", \"Selected Species\", [\"Adelie\", \"Gentoo\", \"Chinstrap\"], selected=[\"Adelie\", \"Chinstrap\"], inline=False)\n    ui.hr()\n    ui.a(\"Trent's GitHub Repo\", \"https://github.com/trentrueckert/cintel-02-data\", target= \"_blank\")\n    \n\n# Plotly Histogram showing all species\nwith ui.layout_columns():\n    with ui.card():\n        ui.card_header(\"Plotly Histogram\")\n        \n        @render_plotly\n        def plotly_historgram():\n            return px.histogram(\n                filtered_data(), \n                x=input.selected_attribute(), \n                nbins=input.plotly_bin_count(),\n                color=\"species\",\n            )\n            \n    # Data grid showing all data\n    with ui.card():\n        ui.card_header(\"Data Grid\")\n        @render.data_frame\n        def data_grid():\n            return render.DataGrid(filtered_data())\n    \n    # Data table showing all data        \n    with ui.card():\n        ui.card_header(\"Data Table\")\n        @render.data_frame\n        def data_table():\n            return render.DataTable(filtered_data())\n\n# Plotly Scatterplot showing all species\nwith ui.layout_columns():\n    with ui.card():\n        ui.card_header(\"Plotly Scatterplot: Species\")\n        @render_plotly\n        def plotly_scatterplot():\n            return px.scatter(\n                data_frame=filtered_data(),\n                x=\"body_mass_g\",\n                y=\"bill_depth_mm\",\n                color=\"species\",\n                labels={\n                    \"bill_depth_mm\": \"Bill Depth (mm)\",\n                    \"body_mass_g\": \"Body Mass (g)\"})\n\n    # Seaborn Histogram showing all species   \n    with ui.card():\n        ui.card_header(\"Seaborn Histogram\")\n        @render.plot\n        def plot2():\n            ax=sns.histplot(\n                data=filtered_data(), \n                x=input.selected_attribute(), \n                bins=input.seaborn_bin_count())\n            ax.set_title(\"Palmer Penguins\")\n            ax.set_xlabel(input.selected_attribute())\n            ax.set_ylabel(\"Number\")\n            return ax\n\n\n@reactive.calc\ndef filtered_data():\n    selected_species = input.selected_species_list()\n    if selected_species:\n        return penguins[penguins['species'].isin(selected_species)]\n    else:\n        return penguins \n", "type": "text"}]